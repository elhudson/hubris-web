import { Tags, Entry, Attributes } from "rules"
import { Inventories } from "character"

model Weapons {
  entry   Entry      @relation(fields: [entryId], references: [id])
  uses    Attributes @relation(fields: [attrCode], references: [code])
  tags    Tags[]
  bonus   Int?
  martial Boolean
  heavy   Boolean

  owned_by   Inventories[]
  wielded_by Inventories[] @relation("wielding")

  attrCode String
  entryId  String @id @unique
}


model Armor {
  entry Entry @relation(fields: [entryId], references: [id])

  class String

  entryId String @id @unique

  owned_by Inventories[]
  worn_by  Inventories[] @relation("wearing")
}


model Items {
  entry Entry @relation(fields: [entryId], references: [id])

  owned_by Inventories[]
  used_by  Inventories[] @relation("using")
  entryId  String        @id @unique
}
