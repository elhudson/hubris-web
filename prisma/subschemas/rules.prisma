import {Weapons} from "./inventory"
import {HD, Health, Characters} from "./character"
import {Powers} from "./powers"
import {Campaigns} from "./campaign"
import { Durations, Injuries, Ranges, Ranges, Weapons } from "../schema"

model Tags {
  id           String         @id @unique
  title        String         @db.MediumText
  description  String?        @db.MediumText
  effects      Effects[]
  classes      Classes[]
  tag_features Tag_Features[]
  alias        String?
  weapons      Weapons[]
}

model Hit_Dice {
  id          String    @id @unique
  title       String
  description String?
  cost        Int       @default(1)
  classes     Classes[]
  HD          HD[]
}

model Timespans {
  id          String      @id @unique
  title       String
  description String?
  injuries    Injuries[]
  durations   Durations[]
}

model Distances {
  id          String   @id @unique
  title       String
  description String?
  range       Ranges[] @relation("distances_ranges")
  areas       Ranges[] @relation("distances_areas")
}

model Tag_Features {
  id           String         @id @unique
  title        String
  description  String?        @db.MediumText
  ticks        Int?
  tier         Int
  xp           Int
  tags         Tags?          @relation(fields: [tagsId], references: [id])
  tagsId       String?
  requires     Tag_Features[] @relation("tag_features_prq")
  required_for Tag_Features[] @relation("tag_features_prq")
  Characters   Characters[]
  charactersId String?
}

model Effects {
  id           String       @id @unique
  title        String?
  description  String       @db.MediumText
  power        Float
  xp           Int
  tier         Int
  requires     Effects[]    @relation("effects_prq")
  required_for Effects[]    @relation("effects_prq")
  range        Ranges?      @relation(fields: [rangeId], references: [id])
  duration     Durations?   @relation(fields: [durationId], references: [id])
  tags         Tags[]
  trees        Trees?       @relation(fields: [treesId], references: [id])
  treesId      String?
  Characters   Characters[]
  charactersId String?
  Powers       Powers[]
  rangeId      String?
  durationId   String?
}

model Trees {
  id          String      @id @unique
  title       String?
  description String      @db.MediumText
  effects     Effects[]
  ranges      Ranges[]
  durations   Durations[]
}

model Durations {
  id           String       @id @unique
  title        String?
  description  String       @db.MediumText
  power        Float
  xp           Int
  tier         Int
  ticks        Int?
  requires     Durations[]  @relation("durations_prq")
  required_for Durations[]  @relation("durations_prq")
  trees        Trees[]
  Characters   Characters[]
  charactersId String?
  Powers       Powers[]
  Timespans    Timespans?   @relation(fields: [timespansId], references: [id])
  timespansId  String?
  Effects      Effects[]
}

model Ranges {
  id           String       @id @unique
  title        String?
  description  String       @db.MediumText
  power        Float
  xp           Int
  tier         Int
  requires     Ranges[]     @relation("ranges_prq")
  required_for Ranges[]     @relation("ranges_prq")
  area         Distances?   @relation("distances_areas", fields: [areaId], references: [id])
  range        Distances?   @relation("distances_ranges", fields: [rangeId], references: [id])
  trees        Trees[]
  Characters   Characters[]
  charactersId String?
  Powers       Powers[]
  areaId       String?
  rangeId      String?
  Effects      Effects[]
}

model Classes {
  id             String           @id @unique
  title          String?
  description    String           @db.MediumText
  weaponry       String
  armory         String           @default("None")
  attributes     Attributes[]
  skills         Skills[]
  class_features Class_Features[]
  class_paths    Class_Paths[]
  tags           Tags[]
  Characters     Characters[]
  hit_dice       Hit_Dice?        @relation(fields: [hit_DiceId], references: [id])
  hit_DiceId     String?
}

model Class_Features {
  id            String           @id @unique
  title         String?
  description   String           @db.MediumText
  xp            Int
  ticks         Int?
  tier          Int
  class_paths   Class_Paths?     @relation(fields: [class_PathsId], references: [id])
  classes       Classes?         @relation(fields: [classesId], references: [id])
  class_PathsId String?
  classesId     String?
  requires      Class_Features[] @relation("class_features_prq")
  required_for  Class_Features[] @relation("class_features_prq")
  Characters    Characters[]
}

model Class_Paths {
  id             String           @id @unique
  title          String?
  description    String           @db.MediumText
  class_features Class_Features[]
  classes        Classes?         @relation(fields: [classesId], references: [id])
  classesId      String?
}

model Attributes {
  id          String        @id @unique
  title       String?
  description String        @db.MediumText
  code        String
  backgrounds Backgrounds[]
  skills      Skills[]
  classes     Classes[]
  conditions  Conditions[]
}

model Skills {
  id            String       @id @unique
  title         String?
  description   String       @db.MediumText
  examples      String?      @db.MediumText
  attributes    Attributes?  @relation(fields: [attributesId], references: [id])
  backgrounds   Backgrounds?
  classes       Classes[]
  characters    Characters[]
  attributesId  String?
  backgroundsId String?
}

model Backgrounds {
  id                  String               @id @unique
  title               String?
  description         String               @db.MediumText
  questions           String?              @db.MediumText
  settings            Settings?            @relation(fields: [settingsId], references: [id])
  attributes          Attributes?          @relation(fields: [attributesId], references: [id])
  skills              Skills?              @relation(fields: [skillsId], references: [id])
  background_features Background_Features?
  skillsId            String?              @unique
  attributesId        String?
  settingsId          String?
  Characters          Characters[]
}

model Settings {
  id          String        @id @unique
  title       String
  backgrounds Backgrounds[]
  description String        @db.MediumText
  campaigns   Campaigns[]
}

model Background_Features {
  id            String       @id @unique
  title         String
  description   String       @db.MediumText
  ticks         Int?
  backgrounds   Backgrounds? @relation(fields: [backgroundsId], references: [id])
  backgroundsId String?      @unique
}

model Injuries {
  id          String       @id @unique
  title       String
  health      Health[]
  description String?
  conditions  Conditions[]
  Timespans   Timespans?   @relation(fields: [timespansId], references: [id])
  timespansId String?
}

model Conditions {
  id          String       @id @unique
  title       String
  description String       @db.MediumText
  attributes  Attributes[]
  injuries    Injuries[]
}
